import{S as O,i as T,s as W,e as w,a as d,b as h,t as _,z as A,x as D,f as m,h as p,y as F,I as G,j as k,k as y,o as B,l as g,m as M,q as H,n as b}from"./index-96638ddb.js";import{B as I}from"./Button-d48b4387.js";function z(o,e,t){const a=o.slice();return a[2]=e[t],a}function C(o){let e,t,a,s,f,n=o[2].content+"",u,c,r,l;return a=new G({props:{name:o[1][o[2].type]}}),{c(){e=w("div"),t=w("div"),k(a.$$.fragment),s=y(),f=w("div"),u=B(n),c=y(),d(t,"class","hc-message__icon"),d(f,"class","hc-message__inner"),d(e,"class",r=`hc-message hc-message--${o[2].type}`)},m(i,$){h(i,e,$),g(e,t),M(a,t,null),g(e,s),g(e,f),g(f,u),g(e,c),l=!0},p(i,$){const v={};$&1&&(v.name=i[1][i[2].type]),a.$set(v),(!l||$&1)&&n!==(n=i[2].content+"")&&H(u,n),(!l||$&1&&r!==(r=`hc-message hc-message--${i[2].type}`))&&d(e,"class",r)},i(i){l||(_(a.$$.fragment,i),l=!0)},o(i){m(a.$$.fragment,i),l=!1},d(i){i&&p(e),b(a)}}}function J(o){let e,t,a=o[0],s=[];for(let n=0;n<a.length;n+=1)s[n]=C(z(o,a,n));const f=n=>m(s[n],1,1,()=>{s[n]=null});return{c(){e=w("div");for(let n=0;n<s.length;n+=1)s[n].c();d(e,"class","hc-message-list")},m(n,u){h(n,e,u);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(e,null);t=!0},p(n,[u]){if(u&3){a=n[0];let c;for(c=0;c<a.length;c+=1){const r=z(n,a,c);s[c]?(s[c].p(r,u),_(s[c],1)):(s[c]=C(r),s[c].c(),_(s[c],1),s[c].m(e,null))}for(A(),c=a.length;c<s.length;c+=1)f(c);D()}},i(n){if(!t){for(let u=0;u<a.length;u+=1)_(s[u]);t=!0}},o(n){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)m(s[u]);t=!1},d(n){n&&p(e),F(s,n)}}}function K(o,e,t){let{data:a=[]}=e,s={success:"check-circle",warning:"exclamation-circle",error:"x-circle-fill",info:"info-circle"};return o.$$set=f=>{"data"in f&&t(0,a=f.data)},[a,s]}let L=class extends O{constructor(e){super(),T(this,e,K,J,W,{data:0})}};class N{constructor(){this.messages=[],this.Messager=new L({target:document.body,props:{data:this.messages}})}addMessage(e){this.messages.push(e),this.Messager.$set({data:this.messages}),setTimeout(()=>{this.removeMessage(e)},e.duration||2e3)}removeMessage(e){const t=this.messages.indexOf(e);t>-1&&(this.messages.splice(t,1),this.Messager.$set({data:this.messages}))}}const E=new N,S=E.addMessage.bind(E);function P(o){let e;return{c(){e=B("Info")},m(t,a){h(t,e,a)},d(t){t&&p(e)}}}function Q(o){let e;return{c(){e=B("Success")},m(t,a){h(t,e,a)},d(t){t&&p(e)}}}function R(o){let e;return{c(){e=B("Warning")},m(t,a){h(t,e,a)},d(t){t&&p(e)}}}function U(o){let e;return{c(){e=B("Error")},m(t,a){h(t,e,a)},d(t){t&&p(e)}}}function V(o){let e,t,a,s,f,n,u,c,r;return t=new I({props:{type:"primary",$$slots:{default:[P]},$$scope:{ctx:o}}}),t.$on("click",o[4]),s=new I({props:{type:"success",$$slots:{default:[Q]},$$scope:{ctx:o}}}),s.$on("click",o[5]),n=new I({props:{type:"warning",$$slots:{default:[R]},$$scope:{ctx:o}}}),n.$on("click",o[6]),c=new I({props:{type:"danger",$$slots:{default:[U]},$$scope:{ctx:o}}}),c.$on("click",o[7]),{c(){e=w("main"),k(t.$$.fragment),a=y(),k(s.$$.fragment),f=y(),k(n.$$.fragment),u=y(),k(c.$$.fragment),d(e,"class","svelte-5ge952")},m(l,i){h(l,e,i),M(t,e,null),g(e,a),M(s,e,null),g(e,f),M(n,e,null),g(e,u),M(c,e,null),r=!0},p(l,[i]){const $={};i&256&&($.$$scope={dirty:i,ctx:l}),t.$set($);const v={};i&256&&(v.$$scope={dirty:i,ctx:l}),s.$set(v);const q={};i&256&&(q.$$scope={dirty:i,ctx:l}),n.$set(q);const j={};i&256&&(j.$$scope={dirty:i,ctx:l}),c.$set(j)},i(l){r||(_(t.$$.fragment,l),_(s.$$.fragment,l),_(n.$$.fragment,l),_(c.$$.fragment,l),r=!0)},o(l){m(t.$$.fragment,l),m(s.$$.fragment,l),m(n.$$.fragment,l),m(c.$$.fragment,l),r=!1},d(l){l&&p(e),b(t),b(s),b(n),b(c)}}}function X(o){const e=(r="")=>S({type:"info",content:r}),t=(r="")=>S({type:"success",content:r}),a=(r="")=>S({type:"warning",content:r}),s=(r="")=>S({type:"error",content:r});return[e,t,a,s,r=>e("这是一条普通消息"),r=>t("测试成功"),r=>a("请勿重复点击"),r=>s("消息发送失败")]}class ee extends O{constructor(e){super(),T(this,e,X,V,W,{})}}export{ee as default};
